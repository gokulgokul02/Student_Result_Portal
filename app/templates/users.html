{% extends 'admin_dashboard.html' %}
{% block content %}
<div style="padding: 20px; font-family: Arial, sans-serif;">
    <h3 style="font-size: 24px; margin-bottom: 20px; color: #2c3e50;">USERS</h3>

    <a href="{% url 'add_student' %}" 
       style="display: inline-block; padding: 10px 18px; background: #3498db; color: white; 
              text-decoration: none; border-radius: 6px; margin-bottom: 20px; transition: all 0.3s;">
       ADD STUDENT
    </a>

    <div style="overflow-x: auto;">
        <table style="width: 100%; border-collapse: collapse; min-width: 800px; box-shadow: 0px 2px 8px rgba(0,0,0,0.1);">
            <thead style="background: #2c3e50; color: white; text-align: left;">
                <tr>
                    <th style="padding: 12px;">NAME</th>
                    <th style="padding: 12px;">REG_NO</th>
                    <th style="padding: 12px;">YEAR</th>
                    <th style="padding: 12px;">DEPARTMENT</th>
                    <th style="padding: 12px;">COLLEGE_NAME</th>
                    <th style="padding: 12px;">UNIVERSITY_NAME</th>
                    <th style="padding: 12px;">DOB</th>
                    <th style="padding: 12px;">ACTIONS</th>
                </tr>
            </thead>
            <tbody>
            {% for x in users %}
                <tr style="border-bottom: 1px solid #ddd; background: {% cycle '#ffffff' '#f9f9f9' %}; transition: background 0.3s;">
                    <td style="padding: 12px;">{{ x.name }}</td>
                    <td style="padding: 12px;">{{ x.reg_no }}</td>
                    <td style="padding: 12px;">{{ x.year_of_Study }}</td>
                    <td style="padding: 12px;">{{ x.department }}</td>
                    <td style="padding: 12px;">{{ x.clg_name }}</td>
                    <td style="padding: 12px;">{{ x.university_name }}</td>
                    <td style="padding: 12px;">{{ x.dob }}</td>
                    <td style="display: flex; flex-wrap: wrap; gap: 5px;">
                        <a href="{% url 'view_result' x.id %}" 
                           style="padding: 6px 12px; background: #2980b9; color: white; text-decoration: none; border-radius: 4px; font-size: 14px; transition: all 0.3s;">View</a>
                        <a href="{% url 'edit_student' x.id %}" 
                           style="padding: 6px 12px; background: #27ae60; color: white; text-decoration: none; border-radius: 4px; font-size: 14px; transition: all 0.3s;">Edit</a>
                        <a href="{% url 'delete_student' x.id %}" 
                           style="padding: 6px 12px; background: #e74c3c; color: white; text-decoration: none; border-radius: 4px; font-size: 14px; transition: all 0.3s;"
                           onclick="return confirm('Are you sure you want to delete this student?');">Delete</a>
                    </td>   
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    
    
    </div>
</div>

<style>
    /* Hover effects for table rows and buttons */
    tbody tr:hover {
        background: #ecf0f1;
    }

    a:hover {
        opacity: 0.85;
        transform: translateY(-2px);
    }

    /* Responsive table for smaller screens */
    @media screen and (max-width: 768px) {
        table, thead, tbody, th, td, tr {
            display: block;
        }

        thead tr {
            display: none;
        }

        tbody tr {
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 10px;
            background: #fff !important;
        }

        tbody td {
            padding: 8px;
            text-align: right;
            position: relative;
        }

        tbody td::before {
            content: attr(data-label);
            position: absolute;
            left: 10px;
            text-align: left;
            font-weight: bold;
        }

        tbody td:last-child {
            text-align: center;
        }
    }

    /* Hover animation for cards */
    div[style*="border: 1px solid #ccc"] {
        transition: transform 0.3s, box-shadow 0.3s;
    }

    div[style*="border: 1px solid #ccc"]:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.2);
    }
</style>
{% endblock %}
